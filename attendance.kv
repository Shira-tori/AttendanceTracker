#: import FallOutTransition kivy.uix.screenmanager.FallOutTransition
#: import Window kivy.core.window.Window
#: import ScrollEffect kivy.effects.scroll.ScrollEffect

<ScreenMan>:
	username: username
	password: password
	fullname: fullname
	section: section
	grade: grade
	lrn_register: lrn_register
	password_register: password_register
	signup_screen: signup_screen
	username_register: username_register
	floatLayout: float_layout
	signupButton: signupButton
	loginButton: loginButton
	transition: FallOutTransition()
	students_ui: students_ui
	student_radio_button: student_radio_button
	teacher_radio_button: teacher_radio_button
	teachers_ui: teachers_ui
	strand_list_container: container
	Screen:
		id: login_screen
		name: "login_screen"
		MDFloatLayout:
			id: float_layout
			MDCheckbox:
				id: student_radio_button
				group: 'group'
				pos_hint: {"center_x": .142, "center_y": .62}
				size_hint: None, None
				size: "45dp", "45dp"
				active: True
			MDLabel:
				text: "Student"
				pos_hint: {"x": .170, "center_y": .62}
				padding_x: 5
			MDCheckbox:
				id: teacher_radio_button
				group: "group"
				pos_hint: {"center_x": .70, "center_y": .62}
				size_hint: None, None
				size: "45dp", "45dp"
			MDLabel:
				text: "Teacher"
				pos_hint: {"x": .728, "center_y": .62}
				padding_x: 5
			MDTextField:
				id: username
				hint_text: "Username"
				mode: "rectangle"
				size_hint_x: .75
				pos_hint: {"center_x": .5, "center_y": .55}
			MDTextField:
				id: password
				hint_text: "Password"
				mode: "rectangle"
				size_hint_x: .75
				pos_hint: {"center_x": .5, "center_y": .45}
				required: True
				password: True
			MDFlatButton:
				id: signupButton
				text: "Sign Up"
				size_hint_x: .372
				pos_hint: {"center_x": .310, "center_y": .35}
				on_release: root.current = "signup_screen"
			MDRaisedButton:
				id: loginButton
				text: "Login"
				size_hint_x: .372
				pos_hint: {"center_x": .69, "center_y": .35}
				on_release: root.login()
	Screen:
		id: signup_screen
		name: "signup_screen"
		ScrollView:
			always_overscroll: False
			do_scroll_x: False
			effect_y: ScrollEffect()
			MDFloatLayout:
				size_hint_y: None
				height: 620
				MDTextField:
					id: fullname 
					hint_text: "Fullname"
					mode: "rectangle"
					size_hint_x: .75
					pos_hint: {"center_x": .5}
					center_y: self.parent.height - self.height + 10
					required: True
				MDTextField:
					id: username_register
					hint_text: "Username"
					mode: "rectangle"
					size_hint_x: .75
					pos_hint: {"center_x": .5}
					center_y: fullname.center_y - self.height - 30
					required: True
				MDTextField:
					id: grade
					hint_text: "Grade"
					mode: "rectangle"
					size_hint_x: .75
					pos_hint: {"center_x": .5}
					center_y: username_register.center_y - self.height - 30
					required: True
				MDTextField:
					id: section
					hint_text: "Section"
					mode: "rectangle"
					size_hint_x: .75
					pos_hint: {"center_x": .5}
					center_y: grade.center_y - self.height - 30
					required: True
				MDTextField:
					id: lrn_register
					hint_text: "LRN"
					mode: "rectangle"
					size_hint_x: .75
					pos_hint: {"center_x": .5}
					center_y: section.center_y - self.height - 30
					required: True
				MDTextField:
					id: password_register
					hint_text: "Password"
					mode: "rectangle"
					size_hint_x: .75
					pos_hint: {"center_x": .5}
					center_y: lrn_register.center_y - self.height - 30
					required: True
					password: True
				MDCheckbox:
					id: student_checkbox
					group: "register"
					size_hint: None, None
					size: "45dp", "45dp"
					pos_hint: {"x": register_back_button.x}
					center_y: password_register.center_y - self.height - 30					
				MDFlatButton:
					id: register_back_button
					text: "Back"
					size_hint_x: .372
					pos_hint: {"center_x": .31}
					center_y: student_checkbox.center_y - self.height - 30
					on_release: root.current = "login_screen"
				MDRaisedButton:
					id: register_button
					text: "Sign Up"
					size_hint_x: .372
					pos_hint: {"center_x": .69}
					center_y: student_checkbox.center_y - self.height - 30
					on_release: root.register()	

	Screen:
		name: "students_ui"
		id: students_ui
		BoxLayout:
			size_hint_y: 1 
			size_hint_x: 1
			orientation: "vertical"
			canvas.before:
				Color:
					rgba: .1326, .3907, .4767, 1
				Rectangle:
					pos: self.pos
					size: self.size
		    

			MDTopAppBar:
				title: "Student's Account"
				md_bg_color: "black"
				left_action_items: [["menu", lambda x: app.callback()]]
				elevation: 15
	   
			FloatLayout:        
				MDCard:
					ripple_behavior: True
					orientation: "vertical"
					size_hint: None, None
					size: "200dp", "180dp"
					pos_hint: {"center_x": .5, "center_y": .7}
					MDLabel:
						text: "Daily QR Code"
						theme_text_color: "Custom"
						text_color: "teal"
						font_size: 40
						font_name: "Comic"
						bold: True
						halign: "center"
						valign: "middle"

				MDCard:
					ripple_behavior: True
					orientation: "vertical"
					size_hint: None, None
					size: "200dp", "180dp"
					pos_hint: {"center_x": .5, "center_y": .3}
					#elevation: 20
										
					MDLabel:
						text: "QR Code Scanner"
						theme_text_color: "Custom"
						text_color: "teal"
						font_size: 40
						font_name: "Comic"
						bold: True
						halign: "center"
						valign: "middle"
	Screen:
		id: teachers_ui
		name: "teachers_ui"
		MDNavigationLayout:
			MDScreenManager:
				MDScreen:
					MDTopAppBar:
						title: "Strands"
						pos_hint: {"top": 1}
						left_action_items: [['menu', lambda x: nav_drawer.set_state("open")]]
					MDScrollView:
						MDList:
							id: container

			MDNavigationDrawer:
				id: nav_drawer


